#!/bin/sh

filter() { mpc | sed "/^volume:/d;s/\\&/&amp;/g;s/\\[paused\\].*/â¸/g;/\\[playing\\].*/d" | paste -sd ' '; }

pidof -x chkMpdStatus >/dev/null 2>&1 || chkMpdStatus >/dev/null 2>&1 &

case $BUTTON in
	1) mpc status | filter ; setsid -f "$TERMINAL" -e ncmpcpp ;;  # right click, pause/unpause
	2) mpc toggle | filter ;;  # right click, pause/unpause
	3) mpc status | filter ; notify-send "ğŸµ éŸ³ä¹æ¨¡å—" "\- æ˜¾ç¤ºæ­£åœ¨æ’­æ”¾çš„éŸ³ä¹.
- å·¦é”®ç‚¹å‡»æ‰“å¼€éŸ³ä¹åˆ—è¡¨.
- é¼ æ ‡ä¸­é”®æš‚åœ/æ’­æ”¾éŸ³ä¹.
- é¼ æ ‡æ»šè½®åˆ‡æ¢éŸ³ä¹.";;  # right click, pause/unpause
	4) mpc prev   | filter ;;  # scroll up, previous
	5) mpc next   | filter ;;  # scroll down, next
	6) mpc status | filter ; "$TERMINAL" -e "$EDITOR" "$0" ;;
	*) mpc status | filter ;;
esac
